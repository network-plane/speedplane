{
  "version": 3,
  "sources": ["../src/main.ts"],
  "sourcesContent": ["type SpeedtestResult = {\n  id: string;\n  timestamp: string;\n  download_mbps: number;\n  upload_mbps: number;\n  ping_ms: number;\n  jitter_ms?: number;\n  packet_loss_pct?: number;\n  isp?: string;\n  external_ip?: string;\n  server_id?: string;\n  server_name?: string;\n  server_country?: string;\n};\n\ntype Aggregate = {\n  count: number;\n  avg_download_mbps: number;\n  avg_upload_mbps: number;\n  avg_ping_ms: number;\n  avg_jitter_ms: number;\n  avg_packet_loss_pct: number;\n};\n\ntype SummaryResponse = {\n  latest?: SpeedtestResult;\n  averages: Record<string, Aggregate>;\n};\n\ntype Schedule = {\n  id: string;\n  name: string;\n  type: \"interval\" | \"daily\";\n  enabled: boolean;\n  every?: string;\n  time_of_day?: string;\n};\n\nfunction $(id: string): HTMLElement {\n  const el = document.getElementById(id);\n  if (!el) {\n    throw new Error(`Missing element #${id}`);\n  }\n  return el;\n}\n\nasync function fetchJSON<T>(url: string, options: RequestInit = {}): Promise<T> {\n  const res = await fetch(url, {\n    ...options,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(options.headers || {}),\n    },\n  });\n  if (!res.ok) {\n    throw new Error(`${res.status} ${res.statusText}`);\n  }\n  return (await res.json()) as T;\n}\n\nfunction formatNumber(val: number | undefined | null, digits = 2): string {\n  if (val == null || Number.isNaN(val)) return \"\u2013\";\n  return val.toFixed(digits);\n}\n\nfunction formatDate(date: Date): string {\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const day = String(date.getDate()).padStart(2, \"0\");\n  return `${year}-${month}-${day}`;\n}\n\nfunction formatTime24h(date: Date): string {\n  const hours = String(date.getHours()).padStart(2, \"0\");\n  const minutes = String(date.getMinutes()).padStart(2, \"0\");\n  return `${hours}:${minutes}`;\n}\n\nfunction formatDateTime(date: Date): string {\n  return `${formatDate(date)} ${formatTime24h(date)}`;\n}\n\n/* ---------- SUMMARY CARDS ---------- */\n\nasync function loadSummary(): Promise<void> {\n  const data = await fetchJSON<SummaryResponse>(\"/api/summary\");\n\n  if (data.latest) {\n    $(\"latest-download-value\").textContent = formatNumber(\n      data.latest.download_mbps,\n    );\n    $(\"latest-download-sub\").textContent = \"Mbps\";\n    $(\"latest-upload-value\").textContent = formatNumber(\n      data.latest.upload_mbps,\n    );\n    $(\"latest-upload-sub\").textContent = \"Mbps\";\n    $(\"latest-ping-value\").textContent = formatNumber(data.latest.ping_ms, 1);\n    $(\"latest-ping-sub\").textContent = \"ms\";\n    $(\"latest-jitter-value\").textContent = formatNumber(\n      data.latest.jitter_ms ?? 0,\n      1,\n    );\n    $(\"latest-jitter-sub\").textContent = \"ms\";\n    $(\"latest-packetloss-value\").textContent = formatNumber(\n      data.latest.packet_loss_pct ?? 0,\n      2,\n    );\n    $(\"latest-packetloss-sub\").textContent = \"%\";\n  }\n}\n\n/* ---------- HISTORY TABLE ---------- */\n\nasync function loadHistoryTable(): Promise<void> {\n  const now = new Date();\n  const from = new Date(now.getTime() - 24 * 60 * 60 * 1000);\n  const url =\n    \"/api/history?from=\" +\n    encodeURIComponent(from.toISOString()) +\n    \"&to=\" +\n    encodeURIComponent(now.toISOString());\n\n  const rows = await fetchJSON<SpeedtestResult[]>(url);\n\n  const tbody = $(\"history-table\").querySelector(\"tbody\");\n  if (!tbody) return;\n  tbody.innerHTML = \"\";\n\n  for (const r of rows) {\n    const tr = document.createElement(\"tr\");\n    const serverInfo = r.server_name\n      ? `${r.server_name}${r.server_country ? ` (${r.server_country})` : \"\"}${r.server_id ? ` [${r.server_id}]` : \"\"}`\n      : r.server_id || \"\u2013\";\n    tr.innerHTML = `\n      <td style=\"font-family: monospace; font-size: 11px;\">${r.id.substring(0, 8)}</td>\n      <td>${formatDateTime(new Date(r.timestamp))}</td>\n      <td>${formatNumber(r.download_mbps)}</td>\n      <td>${formatNumber(r.upload_mbps)}</td>\n      <td>${formatNumber(r.ping_ms, 1)}</td>\n      <td>${formatNumber(r.jitter_ms ?? 0, 1)}</td>\n      <td>${formatNumber(r.packet_loss_pct ?? 0, 2)}</td>\n      <td style=\"font-family: monospace; font-size: 12px;\">${r.external_ip || \"\u2013\"}</td>\n      <td>${r.isp || \"\u2013\"}</td>\n      <td>${serverInfo}</td>\n    `;\n    tbody.appendChild(tr);\n  }\n}\n\n/* ---------- SIMPLE SVG LINE CHARTS ---------- */\n\ntype RangeKey = \"24h\" | \"7d\" | \"30d\";\n\nfunction computeRange(range: RangeKey): { from: Date; to: Date } {\n  const to = new Date();\n  let days = 1;\n  if (range === \"7d\") days = 7;\n  if (range === \"30d\") days = 30;\n  const from = new Date(to.getTime() - days * 24 * 60 * 60 * 1000);\n  return { from, to };\n}\n\nasync function loadHistoryForRange(range: RangeKey): Promise<SpeedtestResult[]> {\n  const { from, to } = computeRange(range);\n  const url =\n    \"/api/history?from=\" +\n    encodeURIComponent(from.toISOString()) +\n    \"&to=\" +\n    encodeURIComponent(to.toISOString());\n\n  const rows = await fetchJSON<SpeedtestResult[]>(url);\n  rows.sort(\n    (a, b) =>\n      new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime(),\n  );\n  return rows;\n}\n\nfunction renderLineChart(\n  containerId: string,\n  rows: SpeedtestResult[],\n  key: \"download_mbps\" | \"upload_mbps\" | \"ping_ms\" | \"jitter_ms\",\n): void {\n  const container = $(containerId);\n  container.innerHTML = \"\";\n\n  if (!rows.length) {\n    container.textContent = \"No data for selected range.\";\n    return;\n  }\n\n  const svgNS = \"http://www.w3.org/2000/svg\";\n  // Use a wider aspect ratio to prevent horizontal stretching\n  const width = 300;\n  const height = 50;\n  const paddingX = 12;\n  const paddingY = 8;\n  const paddingBottom = 12; // Space for x-axis labels\n\n  const svg = document.createElementNS(svgNS, \"svg\");\n  svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n  svg.setAttribute(\"preserveAspectRatio\", \"xMidYMid meet\");\n\n  const times = rows.map((r) => new Date(r.timestamp).getTime());\n  const values = rows.map((r) => {\n    const val = (r as any)[key] as number;\n    // Handle optional fields that might be undefined\n    if (key === \"jitter_ms\") {\n      return val ?? 0;\n    }\n    return val;\n  });\n\n  const minX = Math.min(...times);\n  const maxX = Math.max(...times);\n  let minY = Math.min(...values);\n  let maxY = Math.max(...values);\n\n  if (!Number.isFinite(minY) || !Number.isFinite(maxY)) {\n    container.textContent = \"No valid data.\";\n    return;\n  }\n\n  if (minY === maxY) {\n    const delta = minY === 0 ? 1 : minY * 0.1;\n    minY -= delta;\n    maxY += delta;\n  }\n\n  const innerW = width - paddingX * 2;\n  const innerH = height - paddingY - paddingBottom;\n\n  // Draw horizontal grid lines (dimmer white)\n  const gridLines = 3;\n  for (let i = 0; i <= gridLines; i++) {\n    const yPos = paddingY + (innerH / gridLines) * i;\n    const grid = document.createElementNS(svgNS, \"line\");\n    grid.setAttribute(\"x1\", paddingX.toString());\n    grid.setAttribute(\"x2\", (width - paddingX).toString());\n    grid.setAttribute(\"y1\", yPos.toString());\n    grid.setAttribute(\"y2\", yPos.toString());\n    grid.setAttribute(\"stroke\", \"rgba(255,255,255,0.08)\");\n    grid.setAttribute(\"stroke-width\", \"0.3\");\n    svg.appendChild(grid);\n\n    // Add bandwidth value labels on the left\n    const value = maxY - (maxY - minY) * (i / gridLines);\n    const text = document.createElementNS(svgNS, \"text\");\n    text.setAttribute(\"x\", (paddingX - 2).toString());\n    text.setAttribute(\"y\", (yPos + 1.5).toString());\n    text.setAttribute(\"text-anchor\", \"end\");\n    text.setAttribute(\"fill\", \"rgba(255,255,255,0.4)\");\n    text.setAttribute(\"font-size\", \"2.5\");\n    text.textContent = formatNumber(value, 1);\n    svg.appendChild(text);\n  }\n\n  // Draw vertical lines for each test (dimmer)\n  const coords = rows.map((r) => {\n    const t = new Date(r.timestamp).getTime();\n    const xNorm = maxX === minX ? 0 : (t - minX) / (maxX - minX);\n    const v = (r as any)[key] as number;\n    const yNorm = maxY === minY ? 0.5 : (v - minY) / (maxY - minY);\n    const x = paddingX + xNorm * innerW;\n    const y = paddingY + innerH - yNorm * innerH;\n    return { x, y, time: t };\n  });\n\n  // Draw vertical lines for each test point\n  coords.forEach((coord) => {\n    const vLine = document.createElementNS(svgNS, \"line\");\n    vLine.setAttribute(\"x1\", coord.x.toString());\n    vLine.setAttribute(\"x2\", coord.x.toString());\n    vLine.setAttribute(\"y1\", paddingY.toString());\n    vLine.setAttribute(\"y2\", (paddingY + innerH).toString());\n    vLine.setAttribute(\"stroke\", \"rgba(255,255,255,0.06)\");\n    vLine.setAttribute(\"stroke-width\", \"0.2\");\n    svg.appendChild(vLine);\n  });\n\n  // Draw the data line\n  const path = document.createElementNS(svgNS, \"path\");\n  const d = coords\n    .map((p, i) => `${i === 0 ? \"M\" : \"L\"}${p.x.toFixed(2)},${p.y.toFixed(2)}`)\n    .join(\" \");\n  path.setAttribute(\"d\", d);\n  path.setAttribute(\"fill\", \"none\");\n  path.setAttribute(\"stroke\", \"rgba(255,179,65,0.9)\");\n  path.setAttribute(\"stroke-width\", \"0.8\");\n  path.setAttribute(\"stroke-linejoin\", \"round\");\n  path.setAttribute(\"stroke-linecap\", \"round\");\n  svg.appendChild(path);\n\n  // Draw data points\n  coords.forEach((coord) => {\n    const circle = document.createElementNS(svgNS, \"circle\");\n    circle.setAttribute(\"cx\", coord.x.toString());\n    circle.setAttribute(\"cy\", coord.y.toString());\n    circle.setAttribute(\"r\", \"1.2\");\n    circle.setAttribute(\"fill\", \"#ffb341\");\n    svg.appendChild(circle);\n  });\n\n  // Add x-axis labels (time/date) - always use 24h format and YYYY-MM-DD\n  const labelCount = Math.min(rows.length, 6); // Max 6 labels\n  const labelStep = Math.max(1, Math.floor(rows.length / labelCount));\n  for (let i = 0; i < rows.length; i += labelStep) {\n    if (i >= coords.length) break;\n    const coord = coords[i];\n    const date = new Date(rows[i].timestamp);\n    // Always show date in YYYY-MM-DD format and time in 24h format\n    const timeStr = `${formatTime24h(date)}`;\n\n    const text = document.createElementNS(svgNS, \"text\");\n    text.setAttribute(\"x\", coord.x.toString());\n    text.setAttribute(\"y\", (height - paddingBottom + 8).toString());\n    text.setAttribute(\"text-anchor\", \"middle\");\n    text.setAttribute(\"fill\", \"rgba(255,255,255,0.4)\");\n    text.setAttribute(\"font-size\", \"2.5\");\n    text.textContent = timeStr;\n    svg.appendChild(text);\n  }\n\n  container.appendChild(svg);\n}\n\nasync function updateDownloadChart(): Promise<void> {\n  const select = $(\"range-download\") as HTMLSelectElement;\n  const value = (select.value || \"24h\") as RangeKey;\n  const rows = await loadHistoryForRange(value);\n  renderLineChart(\"download-chart\", rows, \"download_mbps\");\n}\n\nasync function updateUploadChart(): Promise<void> {\n  const select = $(\"range-upload\") as HTMLSelectElement;\n  const value = (select.value || \"24h\") as RangeKey;\n  const rows = await loadHistoryForRange(value);\n  renderLineChart(\"upload-chart\", rows, \"upload_mbps\");\n}\n\nasync function updateLatencyChart(): Promise<void> {\n  const select = $(\"range-latency\") as HTMLSelectElement;\n  const value = (select.value || \"24h\") as RangeKey;\n  const rows = await loadHistoryForRange(value);\n  renderLineChart(\"latency-chart\", rows, \"ping_ms\");\n}\n\nasync function updateJitterChart(): Promise<void> {\n  const select = $(\"range-jitter\") as HTMLSelectElement;\n  const value = (select.value || \"24h\") as RangeKey;\n  const rows = await loadHistoryForRange(value);\n  renderLineChart(\"jitter-chart\", rows, \"jitter_ms\");\n}\n\n/* ---------- SCHEDULES ---------- */\n\nlet editingScheduleId: string | null = null;\n\nasync function loadSchedules(): Promise<void> {\n  const scheds = await fetchJSON<Schedule[]>(\"/api/schedules\");\n  const list = $(\"schedules-list\");\n  list.innerHTML = \"\";\n\n  if (!scheds.length) {\n    list.textContent = \"No schedules configured yet.\";\n    return;\n  }\n\n  for (const s of scheds) {\n    const card = document.createElement(\"div\");\n    card.className = \"schedule-card\";\n    card.dataset.scheduleId = s.id;\n\n    const scheduleInfo = document.createElement(\"div\");\n    scheduleInfo.className = \"schedule-info\";\n\n    const nameEl = document.createElement(\"div\");\n    nameEl.className = \"schedule-name\";\n    nameEl.textContent = s.name || s.id;\n\n    const detailsEl = document.createElement(\"div\");\n    detailsEl.className = \"schedule-details\";\n    const typeText = s.type === \"interval\" ? `Every ${s.every}` : `Daily at ${s.time_of_day}`;\n    const statusText = s.enabled ? \"Enabled\" : \"Disabled\";\n    detailsEl.textContent = `${typeText} \u2022 ${statusText}`;\n\n    scheduleInfo.appendChild(nameEl);\n    scheduleInfo.appendChild(detailsEl);\n\n    const actions = document.createElement(\"div\");\n    actions.className = \"schedule-actions\";\n\n    // Enable/Disable toggle\n    const toggleBtn = document.createElement(\"button\");\n    toggleBtn.className = \"schedule-btn schedule-btn-toggle\";\n    toggleBtn.innerHTML = s.enabled ? \"\u2713\" : \"\u25CB\";\n    toggleBtn.title = s.enabled ? \"Disable\" : \"Enable\";\n    toggleBtn.addEventListener(\"click\", async () => {\n      const updated = { ...s, enabled: !s.enabled };\n      try {\n        await fetchJSON(`/api/schedules/${s.id}`, {\n          method: \"PUT\",\n          body: JSON.stringify(updated),\n        });\n        await loadSchedules();\n      } catch (err) {\n        console.error(\"toggle schedule failed\", err);\n      }\n    });\n\n    // Edit button\n    const editBtn = document.createElement(\"button\");\n    editBtn.className = \"schedule-btn schedule-btn-edit\";\n    editBtn.innerHTML = \"\u270E\";\n    editBtn.title = \"Edit\";\n    editBtn.addEventListener(\"click\", () => {\n      editingScheduleId = s.id;\n      ($(\"schedule-form-id\") as HTMLInputElement).value = s.id;\n      ($(\"schedule-form-name\") as HTMLInputElement).value = s.name || \"\";\n      ($(\"schedule-form-type\") as HTMLSelectElement).value = s.type;\n      ($(\"schedule-form-every\") as HTMLInputElement).value = s.every || \"\";\n      ($(\"schedule-form-timeOfDay\") as HTMLInputElement).value = s.time_of_day || \"\";\n      ($(\"schedule-form-enabled\") as HTMLInputElement).checked = s.enabled;\n      ($(\"schedule-form-submit\") as HTMLButtonElement).textContent = \"Update\";\n      toggleScheduleFields(s.type);\n      ($(\"schedule-form-cancel\") as HTMLButtonElement).style.display = \"inline-block\";\n      // Scroll to form\n      document.getElementById(\"schedule-form\")?.scrollIntoView({ behavior: \"smooth\", block: \"nearest\" });\n    });\n\n    // Delete button\n    const deleteBtn = document.createElement(\"button\");\n    deleteBtn.className = \"schedule-btn schedule-btn-delete\";\n    deleteBtn.innerHTML = \"\uD83D\uDDD1\";\n    deleteBtn.title = \"Delete\";\n    deleteBtn.addEventListener(\"click\", async () => {\n      if (!confirm(`Delete schedule \"${s.name || s.id}\"?`)) return;\n      try {\n        await fetchJSON(`/api/schedules/${s.id}`, {\n          method: \"DELETE\",\n        });\n        // Remove the card immediately for better UX\n        card.remove();\n        // Also reload to ensure consistency\n        await loadSchedules();\n      } catch (err) {\n        console.error(\"delete schedule failed\", err);\n        alert(\"Failed to delete schedule. Please refresh the page.\");\n      }\n    });\n\n    actions.appendChild(toggleBtn);\n    actions.appendChild(editBtn);\n    actions.appendChild(deleteBtn);\n\n    card.appendChild(scheduleInfo);\n    card.appendChild(actions);\n    list.appendChild(card);\n  }\n}\n\n/* ---------- NAV ---------- */\n\nfunction setupNav(): void {\n  // Sidebar toggle functionality\n  const sidebar = document.getElementById(\"sidebar\");\n  const sidebarToggle = document.getElementById(\"sidebar-toggle\");\n  const isExpanded = localStorage.getItem(\"sidebar-expanded\") === \"true\";\n\n  if (sidebar) {\n    if (isExpanded) {\n      sidebar.classList.remove(\"collapsed\");\n    } else {\n      sidebar.classList.add(\"collapsed\");\n    }\n\n    if (sidebarToggle) {\n      sidebarToggle.addEventListener(\"click\", () => {\n        sidebar.classList.toggle(\"collapsed\");\n        const expanded = !sidebar.classList.contains(\"collapsed\");\n        localStorage.setItem(\"sidebar-expanded\", String(expanded));\n      });\n    }\n  }\n\n  const buttons = document.querySelectorAll<HTMLButtonElement>(\".nav-item\");\n  buttons.forEach((btn) => {\n    btn.addEventListener(\"click\", () => {\n      // Expand sidebar when nav item is clicked (if collapsed)\n      if (sidebar && sidebar.classList.contains(\"collapsed\")) {\n        sidebar.classList.remove(\"collapsed\");\n        localStorage.setItem(\"sidebar-expanded\", \"true\");\n      }\n\n      const view = btn.dataset.view;\n      if (!view) return;\n\n      buttons.forEach((b) => b.classList.remove(\"nav-item-active\"));\n      btn.classList.add(\"nav-item-active\");\n\n      document\n        .querySelectorAll<HTMLElement>(\".view\")\n        .forEach((v) => v.classList.remove(\"view-active\"));\n      const el = document.getElementById(`view-${view}`);\n      if (el) el.classList.add(\"view-active\");\n    });\n  });\n}\n\n/* ---------- RUN NOW ---------- */\n\nfunction setupRunNow(): void {\n  const btn = document.getElementById(\"run-now-btn\") as HTMLButtonElement | null;\n  if (!btn) return;\n\n  btn.addEventListener(\"click\", async () => {\n    btn.disabled = true;\n    btn.textContent = \"Running...\";\n    try {\n      await fetchJSON(\"/api/run\", { method: \"POST\" });\n      await Promise.all([\n        loadSummary(),\n        loadHistoryTable(),\n        updateDownloadChart(),\n        updateUploadChart(),\n      ]);\n    } catch (err) {\n      console.error(\"run-now failed\", err);\n    } finally {\n      btn.disabled = false;\n      btn.textContent = \"Run speedtest now\";\n    }\n  });\n}\n\n/* ---------- SCHEDULE FORM ---------- */\n\nfunction toggleScheduleFields(type: string): void {\n  const everyField = document.getElementById(\"schedule-form-every-field\");\n  const timeOfDayField = document.getElementById(\"schedule-form-timeOfDay-field\");\n\n  if (type === \"interval\") {\n    if (everyField) everyField.style.display = \"\";\n    if (timeOfDayField) timeOfDayField.style.display = \"none\";\n  } else if (type === \"daily\") {\n    if (everyField) everyField.style.display = \"none\";\n    if (timeOfDayField) timeOfDayField.style.display = \"\";\n  }\n}\n\nfunction setupScheduleForm(): void {\n  const form = document.getElementById(\"schedule-form\") as HTMLFormElement | null;\n  if (!form) return;\n\n  const typeSelect = $(\"schedule-form-type\") as HTMLSelectElement;\n  typeSelect.addEventListener(\"change\", () => {\n    toggleScheduleFields(typeSelect.value);\n  });\n\n  // Initialize fields based on default type\n  toggleScheduleFields(typeSelect.value);\n\n  const cancelBtn = $(\"schedule-form-cancel\") as HTMLButtonElement;\n  cancelBtn.addEventListener(\"click\", () => {\n    editingScheduleId = null;\n    form.reset();\n    ($(\"schedule-form-id\") as HTMLInputElement).value = \"\";\n    ($(\"schedule-form-enabled\") as HTMLInputElement).checked = true;\n    ($(\"schedule-form-submit\") as HTMLButtonElement).textContent = \"Add\";\n    cancelBtn.style.display = \"none\";\n    toggleScheduleFields(typeSelect.value);\n  });\n\n  form.addEventListener(\"submit\", async (ev) => {\n    ev.preventDefault();\n\n    const data = new FormData(form);\n    const id = (data.get(\"id\") as string) || \"\";\n    const payload: any = {\n      name: data.get(\"name\") || \"\",\n      type: data.get(\"type\") || \"interval\",\n      enabled: data.get(\"enabled\") === \"on\",\n      every: data.get(\"every\") || \"\",\n      time_of_day: data.get(\"timeOfDay\") || \"\",\n    };\n\n    try {\n      if (editingScheduleId) {\n        // Update existing\n        await fetchJSON(`/api/schedules/${editingScheduleId}`, {\n          method: \"PUT\",\n          body: JSON.stringify(payload),\n        });\n      } else {\n        // Create new\n        await fetchJSON(\"/api/schedules\", {\n          method: \"POST\",\n          body: JSON.stringify(payload),\n        });\n      }\n      form.reset();\n      ($(\"schedule-form-id\") as HTMLInputElement).value = \"\";\n      ($(\"schedule-form-enabled\") as HTMLInputElement).checked = true;\n      ($(\"schedule-form-submit\") as HTMLButtonElement).textContent = \"Add\";\n      cancelBtn.style.display = \"none\";\n      editingScheduleId = null;\n      await loadSchedules();\n    } catch (err) {\n      console.error(\"save schedule failed\", err);\n    }\n  });\n}\n\n/* ---------- RANGE DROPDOWNS ---------- */\n\nfunction setupRangeSelectors(): void {\n  const d = $(\"range-download\") as HTMLSelectElement;\n  const u = $(\"range-upload\") as HTMLSelectElement;\n  const l = $(\"range-latency\") as HTMLSelectElement;\n  const j = $(\"range-jitter\") as HTMLSelectElement;\n\n  d.addEventListener(\"change\", () => {\n    updateDownloadChart().catch((err) =>\n      console.error(\"updateDownloadChart\", err),\n    );\n  });\n  u.addEventListener(\"change\", () => {\n    updateUploadChart().catch((err) =>\n      console.error(\"updateUploadChart\", err),\n    );\n  });\n  l.addEventListener(\"change\", () => {\n    updateLatencyChart().catch((err) =>\n      console.error(\"updateLatencyChart\", err),\n    );\n  });\n  j.addEventListener(\"change\", () => {\n    updateJitterChart().catch((err) =>\n      console.error(\"updateJitterChart\", err),\n    );\n  });\n}\n\n/* ---------- THEME SELECTION ---------- */\n\nasync function loadSchemesForTemplate(templateName: string): Promise<void> {\n  const schemeSelect = $(\"pref-scheme\") as HTMLSelectElement;\n  const currentScheme = localStorage.getItem(\"scheme\") || \"default\";\n\n  try {\n    const schemes = await fetchJSON<\n      Array<{ name: string; display: string; accent: string; border: boolean }>\n    >(`/api/schemes?template=${encodeURIComponent(templateName)}`);\n\n    schemeSelect.innerHTML = \"\";\n    schemes.forEach((scheme) => {\n      const option = document.createElement(\"option\");\n      option.value = scheme.name;\n      option.textContent = scheme.display || scheme.name;\n      if (scheme.name === currentScheme) {\n        option.selected = true;\n      }\n      schemeSelect.appendChild(option);\n    });\n\n    if (schemeSelect.options.length === 0) {\n      const option = document.createElement(\"option\");\n      option.value = \"default\";\n      option.textContent = \"Default\";\n      option.selected = true;\n      schemeSelect.appendChild(option);\n    }\n  } catch (err) {\n    console.error(\"Failed to load schemes:\", err);\n  }\n}\n\nasync function applyTheme(templateName: string, schemeName: string): Promise<void> {\n  try {\n    const response = await fetch(\n      `/api/theme?template=${encodeURIComponent(templateName)}&scheme=${encodeURIComponent(schemeName)}`,\n    );\n    if (!response.ok) {\n      throw new Error(`Failed to load theme: ${response.status}`);\n    }\n    const css = await response.text();\n    const styleEl = document.getElementById(\"theme-css\");\n    if (styleEl) {\n      styleEl.textContent = css;\n    }\n    document.documentElement.setAttribute(\"data-template\", templateName);\n    document.documentElement.setAttribute(\"data-scheme\", schemeName);\n    localStorage.setItem(\"template\", templateName);\n    localStorage.setItem(\"scheme\", schemeName);\n  } catch (err) {\n    console.error(\"Failed to apply theme:\", err);\n  }\n}\n\nfunction setupThemeSelection(): void {\n  const templateSelect = $(\"pref-template\") as HTMLSelectElement;\n  const schemeSelect = $(\"pref-scheme\") as HTMLSelectElement;\n\n  // Set current values from localStorage or HTML attributes\n  const savedTemplate = localStorage.getItem(\"template\");\n  const savedScheme = localStorage.getItem(\"scheme\");\n  const htmlTemplate = document.documentElement.getAttribute(\"data-template\");\n  const htmlScheme = document.documentElement.getAttribute(\"data-scheme\");\n\n  const currentTemplate = savedTemplate || htmlTemplate || \"speedplane\";\n  const currentScheme = savedScheme || htmlScheme || \"default\";\n\n  // Set template select value if it exists in the options\n  if (Array.from(templateSelect.options).some((opt) => opt.value === currentTemplate)) {\n    templateSelect.value = currentTemplate;\n  }\n  loadSchemesForTemplate(currentTemplate).catch((err) =>\n    console.error(\"loadSchemesForTemplate\", err),\n  );\n\n  templateSelect.addEventListener(\"change\", async () => {\n    const newTemplate = templateSelect.value;\n    // Reset to default scheme when template changes\n    localStorage.setItem(\"template\", newTemplate);\n    localStorage.setItem(\"scheme\", \"default\");\n    await loadSchemesForTemplate(newTemplate);\n    schemeSelect.value = \"default\";\n    await applyTheme(newTemplate, \"default\");\n  });\n\n  schemeSelect.addEventListener(\"change\", async () => {\n    const newScheme = schemeSelect.value;\n    const template = templateSelect.value;\n    await applyTheme(template, newScheme);\n  });\n}\n\n/* ---------- INIT ---------- */\n\nasync function init(): Promise<void> {\n  setupNav();\n  setupRunNow();\n  setupScheduleForm();\n  setupRangeSelectors();\n  setupThemeSelection();\n\n  await Promise.all([\n    loadSummary(),\n    loadHistoryTable(),\n    loadSchedules(),\n    updateDownloadChart(),\n    updateUploadChart(),\n    updateLatencyChart(),\n    updateJitterChart(),\n  ]);\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  init().catch((err) => console.error(err));\n});\n"],
  "mappings": "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",
  "names": []
}
